{"ast":null,"code":"import { getByToken, update } from \"@/api/modules/user\";\nexport default {\n  name: \"addOrEdit\",\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    title: {\n      type: String,\n      default: \"新增\"\n    },\n    defaultFormDate: {\n      type: Object\n    }\n  },\n  data() {\n    return {\n      flag: false,\n      form: {\n        id: '',\n        name: '',\n        password: '',\n        telephone: '',\n        sex: ''\n      },\n      options: [{\n        value: '男',\n        label: '男'\n      }, {\n        value: '女',\n        label: '女'\n      }]\n    };\n  },\n  mounted() {\n    this.form = this.defaultFormDate;\n    this.form.password = \"\";\n  },\n  methods: {\n    close() {\n      this.flag = false;\n      this.$emit(\"close\", this.flag);\n    },\n    submit() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          switch (this.form.sexName) {\n            case '女':\n              this.form.sex = \"0\";\n              break;\n            case '男':\n              this.form.sex = \"1\";\n              break;\n            default:\n              console.error(\"Unhandled sex:\", item.type);\n          }\n          console.log(this.form.sexName);\n          console.log(this.form.sex);\n          update({\n            ...this.form\n          }).then(res => {\n            this.flag = true;\n            this.$emit(\"close\", this.flag);\n          }).catch(err => {\n            this.flag = false;\n            this.$emit(\"close\", this.flag);\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["getByToken","update","name","props","visible","type","Boolean","default","title","String","defaultFormDate","Object","data","flag","form","id","password","telephone","sex","options","value","label","mounted","methods","close","$emit","submit","$refs","validate","valid","sexName","console","error","item","log","then","res","catch","err"],"sources":["src/views/attendance/vet/AddOrEdit.vue"],"sourcesContent":["<template>\r\n      <el-dialog :title=\"title\" :visible=\"visible\" :before-close=\"close\" append-to-body>\r\n    <el-form :model=\"form\" ref=\"form\">\r\n      <el-form-item label=\"审核是否通过\" prop=\"sex\">\r\n        <el-select v-model=\"form.sexName\" placeholder=\"请选择\">\r\n    <el-option\r\n      v-for=\"item in options\"\r\n      :key=\"item.value\"\r\n      :label=\"item.label\"\r\n      :value=\"item.value\">\r\n    </el-option>\r\n  </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"理由\" prop=\"telephone\">\r\n        <el-input\r\n    type=\"textarea\"\r\n    :rows=\"8\"\r\n    v-model=\"form.telephone\">\r\n  </el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"close\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"submit\">确 定</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>    \r\n\r\n<script>\r\nimport { getByToken,update } from \"@/api/modules/user\"\r\n\r\nexport default {\r\n    name: \"addOrEdit\",\r\n    props: {\r\n        visible: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        title: {\r\n            type: String,\r\n            default: \"新增\"\r\n        },\r\n        defaultFormDate: {\r\n            type: Object,\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            flag: false,\r\n            form: {\r\n                id: '',\r\n                name: '',\r\n                password: '',\r\n                telephone: '',\r\n                sex: '',\r\n            },\r\n      options: [{\r\n        value: '男',\r\n        label: '男'\r\n      }, {\r\n        value: '女',\r\n        label: '女'\r\n      },],\r\n        };\r\n    },\r\n    mounted() {\r\n        this.form = this.defaultFormDate\r\n        this.form.password=\"\";\r\n    },\r\n    methods: {\r\n        close() {\r\n            this.flag = false;\r\n            this.$emit(\"close\", this.flag)\r\n        },\r\n        submit() {\r\n\r\n            this.$refs.form.validate(valid => {\r\n                if (valid) {\r\n                  switch (this.form.sexName) {\r\n          case '女':\r\n          this.form.sex = \"0\"\r\n            break\r\n          case '男':\r\n          this.form.sex = \"1\"\r\n            break\r\n          default:\r\n            console.error(\"Unhandled sex:\", item.type);\r\n        }\r\n        console.log(this.form.sexName)\r\n                  console.log(this.form.sex)\r\n                  update({\r\n                        ...this.form\r\n                    }).then(res => {\r\n                        this.flag = true\r\n                        this.$emit(\"close\", this.flag)\r\n                    })\r\n                        .catch(err => {\r\n                            this.flag = false\r\n                            this.$emit(\"close\", this.flag)\r\n                        })\r\n                }\r\n            })\r\n        },\r\n\r\n    }\r\n};\r\n</script>\r\n<style scoped>\r\n</style>"],"mappings":"AA6BA,SAAAA,UAAA,EAAAC,MAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC,OAAA;MACAC,OAAA;IACA;IACAC,KAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,OAAA;IACA;IACAG,eAAA;MACAL,IAAA,EAAAM;IACA;EACA;EACAC,KAAA;IACA;MACAC,IAAA;MACAC,IAAA;QACAC,EAAA;QACAb,IAAA;QACAc,QAAA;QACAC,SAAA;QACAC,GAAA;MACA;MACAC,OAAA;QACAC,KAAA;QACAC,KAAA;MACA;QACAD,KAAA;QACAC,KAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAAR,IAAA,QAAAJ,eAAA;IACA,KAAAI,IAAA,CAAAE,QAAA;EACA;EACAO,OAAA;IACAC,MAAA;MACA,KAAAX,IAAA;MACA,KAAAY,KAAA,eAAAZ,IAAA;IACA;IACAa,OAAA;MAEA,KAAAC,KAAA,CAAAb,IAAA,CAAAc,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA,aAAAf,IAAA,CAAAgB,OAAA;YACA;cACA,KAAAhB,IAAA,CAAAI,GAAA;cACA;YACA;cACA,KAAAJ,IAAA,CAAAI,GAAA;cACA;YACA;cACAa,OAAA,CAAAC,KAAA,mBAAAC,IAAA,CAAA5B,IAAA;UACA;UACA0B,OAAA,CAAAG,GAAA,MAAApB,IAAA,CAAAgB,OAAA;UACAC,OAAA,CAAAG,GAAA,MAAApB,IAAA,CAAAI,GAAA;UACAjB,MAAA;YACA,QAAAa;UACA,GAAAqB,IAAA,CAAAC,GAAA;YACA,KAAAvB,IAAA;YACA,KAAAY,KAAA,eAAAZ,IAAA;UACA,GACAwB,KAAA,CAAAC,GAAA;YACA,KAAAzB,IAAA;YACA,KAAAY,KAAA,eAAAZ,IAAA;UACA;QACA;MACA;IACA;EAEA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}