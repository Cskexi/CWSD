{"ast":null,"code":"import { save, deleteByIds } from \"@/api/modules/notice\";\nimport { dictypeList } from \"@/api/modules/dictype\";\nimport { dicPage } from \"@/api/modules/dic\";\nexport default {\n  name: \"addOrEdit\",\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    title: {\n      type: String,\n      default: \"新增\"\n    },\n    defaultFormDate: {\n      type: Object\n    }\n  },\n  data() {\n    return {\n      flag: false,\n      form: {\n        reason: \"\",\n        time: \"\"\n      },\n      options: [] //value,lable\n    };\n  },\n  mounted() {},\n  methods: {\n    close() {\n      this.flag = false;\n      this.$emit(\"close\", this.flag);\n    },\n    submit() {\n      if (this.form.name == \"\" || this.form.address == \"\" || this.form.streamUrl == \"\") {\n        this.$message.error(\"请填写相关内容\");\n      } else {\n        save({\n          ...this.form\n        }).then(res => {\n          this.flag = true;\n          this.$message.success(\"成功\" + this.title);\n          this.$emit(\"close\", this.flag);\n        }).catch(err => {\n          this.flag = false;\n          this.$emit(\"close\", this.flag);\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["save","deleteByIds","dictypeList","dicPage","name","props","visible","type","Boolean","default","title","String","defaultFormDate","Object","data","flag","form","reason","time","options","mounted","methods","close","$emit","submit","address","streamUrl","$message","error","then","res","success","catch","err"],"sources":["src/views/message/components/AddOrEdit.vue"],"sourcesContent":["<template>\r\n  <el-dialog :title=\"title\" :visible=\"visible\" :before-close=\"close\" append-to-body>\r\n    <el-form :model=\"form\" ref=\"form\">\r\n\r\n      <div class=\"block\">\r\n        <el-date-picker v-model=\"form.time\" type=\"datetime\" placeholder=\"选择日期时间\" value-format=\"yyyy-MM-dd HH:mm:ss\">\r\n        </el-date-picker>\r\n      </div>\r\n\r\n      <el-form-item label=\"通知\" prop=\"reason\">\r\n        <el-input type=\"textarea\" :rows=\"8\" v-model=\"form.reason\">\r\n        </el-input>\r\n      </el-form-item>\r\n\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"close\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"submit\">确 定</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>    \r\n\r\n<script>\r\nimport { save, deleteByIds } from \"@/api/modules/notice\"\r\nimport { dictypeList } from \"@/api/modules/dictype\"\r\nimport { dicPage } from \"@/api/modules/dic\"\r\n\r\n\r\nexport default {\r\n  name: \"addOrEdit\",\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: \"新增\"\r\n    },\r\n    defaultFormDate: {\r\n      type: Object,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      flag: false,\r\n      form: {\r\n        reason: \"\",\r\n        time: \"\",\r\n      },\r\n      options: [],//value,lable\r\n    };\r\n  },\r\n  mounted() {\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.flag = false;\r\n      this.$emit(\"close\", this.flag)\r\n    },\r\n    submit() {\r\n      if (this.form.name == \"\" || this.form.address == \"\" || this.form.streamUrl == \"\") {\r\n        this.$message.error(\"请填写相关内容\")\r\n      } else {\r\n        save({ ...this.form }).then(res => {\r\n          this.flag = true\r\n          this.$message.success(\"成功\" + this.title)\r\n          this.$emit(\"close\", this.flag)\r\n        })\r\n          .catch(err => {\r\n            this.flag = false\r\n            this.$emit(\"close\", this.flag)\r\n          })\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>"],"mappings":"AAuBA,SAAAA,IAAA,EAAAC,WAAA;AACA,SAAAC,WAAA;AACA,SAAAC,OAAA;AAGA;EACAC,IAAA;EACAC,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC,OAAA;MACAC,OAAA;IACA;IACAC,KAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,OAAA;IACA;IACAG,eAAA;MACAL,IAAA,EAAAM;IACA;EACA;EACAC,KAAA;IACA;MACAC,IAAA;MACAC,IAAA;QACAC,MAAA;QACAC,IAAA;MACA;MACAC,OAAA;IACA;EACA;EACAC,QAAA,GACA;EACAC,OAAA;IACAC,MAAA;MACA,KAAAP,IAAA;MACA,KAAAQ,KAAA,eAAAR,IAAA;IACA;IACAS,OAAA;MACA,SAAAR,IAAA,CAAAZ,IAAA,eAAAY,IAAA,CAAAS,OAAA,eAAAT,IAAA,CAAAU,SAAA;QACA,KAAAC,QAAA,CAAAC,KAAA;MACA;QACA5B,IAAA;UAAA,QAAAgB;QAAA,GAAAa,IAAA,CAAAC,GAAA;UACA,KAAAf,IAAA;UACA,KAAAY,QAAA,CAAAI,OAAA,aAAArB,KAAA;UACA,KAAAa,KAAA,eAAAR,IAAA;QACA,GACAiB,KAAA,CAAAC,GAAA;UACA,KAAAlB,IAAA;UACA,KAAAQ,KAAA,eAAAR,IAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}