{"ast":null,"code":"import Vue from 'vue';\nimport Router from 'vue-router';\nimport Layout from '@/layout';\nimport { getStore } from '@/utils/storage';\nVue.use(Router);\nexport const constantRoutes = [{\n  path: '/login',\n  component: () => import('@/views/login/index'),\n  hidden: true\n}, {\n  path: '/',\n  component: Layout,\n  redirect: '/home',\n  children: [{\n    path: 'help',\n    component: () => import('@/views/help/index')\n  }, {\n    path: 'home',\n    component: () => import('@/views/home/index')\n  }, {\n    path: 'message',\n    component: () => import('@/views/message/index')\n  }, {\n    path: 'dashboard',\n    component: () => import('@/views/dashboard/index')\n  }, {\n    path: 'permission',\n    component: () => import('@/views/permission/index')\n  }, {\n    path: 'userInfo',\n    component: () => import('@/views/userInfo/index')\n  }, {\n    path: 'attendance',\n    component: () => import('@/views/attendance/index')\n  }, {\n    path: 'attendanceApply',\n    component: () => import('@/views/attendance/apply')\n  }, {\n    path: 'attendanceVet',\n    component: () => import('@/views/attendance/vet')\n  }, {\n    path: 'myAttendance',\n    component: () => import('@/views/attendance/myAttendance')\n  }, {\n    path: 'monitor',\n    component: () => import('@/views/monitor/index')\n  }, {\n    path: 'dictype',\n    component: () => import('@/views/dictype/index')\n  }]\n}, {\n  path: '/404',\n  component: () => import('@/views/error-page/404'),\n  hidden: true\n}];\nconst createRouter = () => new Router({\n  routes: constantRoutes\n});\nconst router = createRouter();\nrouter.beforeEach((to, form, next) => {\n  //let user = sessionStorage.getItem('user');\n  let user = getStore('user');\n  console.log(user);\n  if (to.path == '/login' | to.path == '/register') {\n    if (user) {\n      next = {\n        path: '/'\n      };\n    } else {\n      next();\n    }\n  } else {\n    if (!user) {\n      next({\n        path: '/login'\n      });\n    } else {\n      next();\n    }\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","Router","Layout","getStore","use","constantRoutes","path","component","hidden","redirect","children","createRouter","routes","router","beforeEach","to","form","next","user","console","log"],"sources":["D:/User/Workspace/CWSD/cwsd-web/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport Router from 'vue-router'\r\n\r\nimport Layout from '@/layout'\r\nimport { getStore } from '@/utils/storage'\r\n\r\nVue.use(Router)\r\nexport const constantRoutes = [\r\n  {\r\n    path: '/login',\r\n    component: () => import('@/views/login/index'),\r\n    hidden: true\r\n  },\r\n  {\r\n    path: '/',\r\n    component: Layout,\r\n    redirect: '/home',\r\n    children: [\r\n      {\r\n        path: 'help',\r\n        component: () => import('@/views/help/index'),\r\n      },\r\n      {\r\n        path: 'home',\r\n        component: () => import('@/views/home/index'),\r\n      },\r\n      {\r\n        path: 'message',\r\n        component: () => import('@/views/message/index'),\r\n      },\r\n      {\r\n        path: 'dashboard',\r\n        component: () => import('@/views/dashboard/index'),\r\n      },\r\n      {\r\n        path: 'permission',\r\n        component: () => import('@/views/permission/index'),\r\n      },\r\n      {\r\n        path: 'userInfo',\r\n        component: () => import('@/views/userInfo/index'),\r\n      },\r\n      {\r\n        path: 'attendance',\r\n        component: () => import('@/views/attendance/index'),\r\n      },\r\n      {\r\n        path: 'attendanceApply',\r\n        component: () => import('@/views/attendance/apply'),\r\n      },\r\n      {\r\n        path: 'attendanceVet',\r\n        component: () => import('@/views/attendance/vet'),\r\n      },\r\n      {\r\n        path: 'myAttendance',\r\n        component: () => import('@/views/attendance/myAttendance'),\r\n      },\r\n      {\r\n        path: 'monitor',\r\n        component: () => import('@/views/monitor/index'),\r\n      },\r\n      {\r\n        path: 'dictype',\r\n        component: () => import('@/views/dictype/index'),\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '/404',\r\n    component: () => import('@/views/error-page/404'),\r\n    hidden: true\r\n  },\r\n\r\n]\r\n\r\nconst createRouter = () => new Router({\r\n  routes: constantRoutes\r\n})\r\n\r\nconst router = createRouter()\r\n\r\nrouter.beforeEach((to, form, next) => {\r\n  //let user = sessionStorage.getItem('user');\r\n  let user = getStore('user');\r\n  console.log(user)\r\n  if (to.path == '/login' | to.path == '/register') {\r\n    if (user) {\r\n      next = ({ path: '/' })\r\n    } else {\r\n      next()\r\n    }\r\n  } else {\r\n    if (!user) {\r\n      next({ path: '/login' })\r\n    } else {\r\n      next()\r\n    }\r\n  }\r\n})\r\n\r\nexport default router"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}